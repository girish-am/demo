name: Github actions demo
on: [push]

jobs:
    Terraform-Deploy:
        runs-on: ubuntu-latest
        env:
            GITHUB_TOKEN=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
        steps:
            - name : checkout terraform 
              uses: actions/checkout@v4
              with:
                  repository : girish-am/terraform
                  ref: main
            - name: print terraform repo files 
              run: ls -al
            - name: terraform init 
              run: terraform init
            - name: terraform plan
              run : terraform plan
            - name: terraform apply
              run: terraform apply --auto-approve
